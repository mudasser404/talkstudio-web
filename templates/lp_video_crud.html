{% extends 'landing_page_crud.html' %}
{% load i18n %}

{% block table_row %}
<td>{{ item.title|truncatechars:40 }}</td>
<td>{{ item.subtitle|truncatechars:50 }}</td>
<td>
    {% if item.video_file %}
    <span class="badge badge-active"><i class="fas fa-check"></i> Yes</span>
    {% else %}
    <span class="badge badge-inactive"><i class="fas fa-times"></i> No</span>
    {% endif %}
</td>
{% endblock %}

{% block form_fields %}
<div class="form-group">
    <label class="form-label">{% trans "Title" %}</label>
    <input type="text" class="form-control" name="title" id="title" required>
    <div class="form-help">{% trans "Video section title" %}</div>
</div>

<div class="form-group">
    <label class="form-label">{% trans "Subtitle" %}</label>
    <textarea class="form-control" name="subtitle" id="subtitle"></textarea>
    <div class="form-help">{% trans "Video section subtitle/description" %}</div>
</div>

<div class="form-group">
    <label class="form-label">{% trans "Video File" %}</label>
    <input type="file" class="form-control" name="video_file" id="video_file" accept="video/*">
    <div class="form-help">{% trans "Upload video file (MP4 recommended)" %}</div>
</div>

<div class="form-group">
    <label class="form-label">{% trans "Video Thumbnail" %}</label>
    <input type="file" class="form-control" name="video_thumbnail" id="video_thumbnail" accept="image/*">
    <div class="form-help">{% trans "Upload thumbnail image (JPG/PNG)" %}</div>
</div>
{% endblock %}

{% block populate_form_js %}
document.getElementById('title').value = data.title || '';
document.getElementById('subtitle').value = data.subtitle || '';
document.getElementById('order').value = data.order || 0;
document.getElementById('is_active').checked = data.is_active;
// Note: File inputs cannot be prepopulated for security reasons
{% endblock %}
